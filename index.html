<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Cache-Control" content="max-age=3600, public">
    <meta http-equiv="Expires" content="Wed, 21 Oct 2025 07:28:00 GMT">
    <title>2025 Calendar & Messages</title>
    <link rel="stylesheet" href="style_index.css">
    <script>
        // æ£€æŸ¥ç”¨æˆ·æ˜¯å¦å·²ç™»å½•
        if (!localStorage.getItem('loggedIn')) {
            window.location.href = 'login.html'; // æœªç™»å½•æ—¶è·³è½¬åˆ°ç™»å½•é¡µé¢
        }
    </script>
</head>
<body>
    <div id="stars"></div>
    <script src="star.js"></script>
    <header class="header">
        <div class="header-content">
            <h1 class="header-title" id="randomQuote">æ¬¢è¿æ¥åˆ°æˆ‘ä»¬çš„ä¸»é¡µ</h1>
            <!-- <button id="themeToggle" class="theme-toggle">åˆ‡æ¢ä¸»é¢˜</button>
            <script src="theme.js"></script> -->
            <div class="info-icon" onclick="showInfo()">
                â„¹
            </div>
            <script>
                function showInfo() {
                    alert("ä½¿ç”¨ç”µè„‘æˆ–å¹³æ¿æµè§ˆé¡µé¢æ•ˆæœæœ€ä½³ï¼Œæ‰‹æœºæ¨èæ¨ªå±æµè§ˆã€‚\nå¦‚æœé‡åˆ°å†…å®¹æˆ–åª’ä½“åŠ è½½è¾ƒæ…¢æˆ–åŠ è½½ä¸å‡ºæ¥çš„æƒ…å½¢ï¼Œè¯·å°è¯•æ‰“å¼€æ¢¯å­ã€‚\né‡åˆ°ä»»ä½•é—®é¢˜æ— æ³•è§£å†³æ—¶ï¼Œè¯·å°è¯•ä¸å¤§æœ¨å¤´è”ç³»ğŸ˜Š");
                }
            </script>
            <button onclick="logout()" class="logout-button">é€€å‡ºç™»å½•</button>
        </div>
    </header>
    <script>
        function logout() {
            localStorage.removeItem('loggedIn'); // ç§»é™¤ç™»å½•çŠ¶æ€
            window.location.href = 'login.html'; // è·³è½¬åˆ°ç™»å½•é¡µé¢
        }
                // çˆ±æƒ…åäººåè¨€åˆ—è¡¨
        const loveQuotes = [
            "â€œçˆ±æ˜¯é•¿ä¹…å¿è€ï¼Œåˆæœ‰æ©æ…ˆã€‚â€ â€” åœ£ç»ã€Šå“¥æ—å¤šå‰ä¹¦ã€‹",
            "â€œçœŸæ­£çš„çˆ±æƒ…æ˜¯å¸å¼•ï¼Œè€Œä¸æ˜¯æŸç¼šã€‚â€ â€” é©¬å…‹Â·åæ¸©",
            "â€œä½ è‹¥çˆ±å¥¹ï¼Œè®©ä½ çš„çˆ±åƒé˜³å…‰ä¸€æ ·åŒ…å›´å¥¹ï¼Œå¹¶ä¸”ç»™å¥¹è‡ªç”±ã€‚â€ â€” æ³°æˆˆå°”",
            "â€œçˆ±æ˜¯ç”Ÿå‘½çš„ç›ï¼Œå®ƒä½¿ç”Ÿæ´»æœ‰æ»‹æœ‰å‘³ã€‚â€ â€” åˆ—å¤«Â·æ‰˜å°”æ–¯æ³°",
            "â€œçˆ±æƒ…æ˜¯å‹è°Šçš„å‡åï¼Œæ˜¯çœŸå¿ƒçš„ä»˜å‡ºå’Œä¸æ±‚å›æŠ¥çš„å…³æ€€ã€‚â€ â€” æ—è¯­å ‚",
            "â€œçˆ±æ˜¯ç†è§£çš„åˆ«åã€‚â€ â€” æ³°æˆˆå°”",
            "â€œçˆ±æƒ…è®©äººæˆä¸ºæ›´å¥½çš„è‡ªå·±ã€‚â€ â€” å¥¥æ–¯å¡Â·ç‹å°”å¾·",
            "â€œçˆ±æ¯”ä¼Ÿå¤§æ›´ä¼Ÿå¤§ã€‚â€ â€” é›ªè±",
            "â€œå½“çˆ±è§¦ç¢°åˆ°å¿ƒçµæ—¶ï¼Œå®ƒä¾¿ä¸å†æ˜¯è‚‰ä½“çš„ç¾ç»Šï¼Œè€Œæ˜¯çµé­‚çš„å…±é¸£ã€‚â€ â€” åŸƒå…‹å“ˆç‰¹Â·æ‰˜åˆ©",
            "â€œä½ æ˜¯æˆ‘æœ€æ·±çš„æ¸´æœ›ï¼Œä¹Ÿæ˜¯æˆ‘æœ€ç”œçš„ç‰µæŒ‚ã€‚â€ â€” æœªçŸ¥",
            "â€œçˆ±æƒ…æ˜¯ä¸¤ä¸ªçµé­‚åœ¨åŒä¸€ä¸ªæ€æƒ³ä¸­çš„ç›¸é‡ã€‚â€ â€” çºªä¼¯ä¼¦",
            "â€œçˆ±æ˜¯æ— æ¡ä»¶çš„ï¼Œå®ƒä¸æ±‚å›æŠ¥ã€‚â€ â€” ç›ä¸½Â·å®‰Â·æ‹‰å¾·é©¬èµ«",
            "â€œçˆ±æ˜¯ç”Ÿæ´»çš„ç«ç„°ï¼Œæ²¡æœ‰å®ƒï¼Œä¸€åˆ‡å˜å¾—é»‘æš—ã€‚â€ â€” ç½—æ›¼Â·ç½—å…°",
            "â€œçˆ±æ˜¯æ°¸æ’çš„ï¼Œå¤–è¡¨å¯èƒ½æ”¹å˜ï¼Œä½†æœ¬è´¨æ°¸è¿œä¸å˜ã€‚â€ â€” æ–‡æ£®ç‰¹Â·æ¢µé«˜",
            "â€œçˆ±æ˜¯çµé­‚çš„ç›¸é‡ï¼Œæ˜¯å¿ƒçµçš„å…±é¸£ã€‚â€ â€” çº¦ç¿°Â·æµæ…ˆ",
            "â€œçˆ±æ˜¯å”¯ä¸€çš„ç°å®ï¼Œæ˜¯æˆ‘ä»¬å­˜åœ¨çš„æœ€ç»ˆæ„ä¹‰ã€‚â€ â€” äº¨åˆ©Â·ç±³å‹’",
            "â€œçˆ±æ˜¯æˆ‘ä»¬å¯¹å½¼æ­¤çš„æ‰¿è¯ºï¼Œæ˜¯æˆ‘ä»¬å…±åŒçš„ä¿¡ä»°ã€‚â€ â€” æœªçŸ¥",
            "â€œçˆ±æ˜¯æˆ‘ä»¬ç”Ÿå‘½ä¸­çš„å…‰èŠ’ï¼Œæ˜¯æˆ‘ä»¬å‰è¡Œçš„åŠ¨åŠ›ã€‚â€ â€” æœªçŸ¥",
        ];

        // éšæœºé€‰æ‹©åè¨€å¹¶æ’å…¥åˆ°é¡µé¢
        function displayRandomQuote() {
            const randomIndex = Math.floor(Math.random() * loveQuotes.length);
            const randomQuote = loveQuotes[randomIndex];
            document.getElementById('randomQuote').textContent = randomQuote;
        }

        // è°ƒç”¨å‡½æ•°åœ¨é¡µé¢åŠ è½½æ—¶æ›´æ–°æ ‡é¢˜
        window.onload = displayRandomQuote;
    </script>

    <audio id="backgroundMusic" loop>
        <source src="audio/Minecrafts_end.mp3" type="audio/mpeg">
        æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒéŸ³é¢‘æ’­æ”¾ã€‚
    </audio>

    <script>
        function toggleMusic() {
            const audio = document.getElementById('backgroundMusic');
            const button = document.getElementById('playPauseButton');
            if (audio.paused) {
                audio.play();
                button.textContent = "â¸ï¸";
            } else {
                audio.pause();
                button.textContent = "â–¶ï¸";
            }
        }
    </script>

    <div class="intro">
        <h2>
            <span class="vertical-title">é›…é›…</span>
            &emsp;&emsp;&emsp;&emsp;ï¼Œæ¬¢è¿æ¥åˆ°æˆ‘ä»¬çš„å°å¤©åœ°â€”â€”eureka-ya.xin
            <button onclick="toggleMusic()" id="playPauseButton" style="border: none; background: none; cursor: pointer; font-size: 24px; margin-left: 10px;">
                â–¶ï¸
            </button>
        </h2>
            <p>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;æ¬¢è¿æ¥åˆ°è¿™ä¸ªæ°¸æ’çš„æ•°å­—é¢†åŸŸï¼Œè¿™æ˜¯ä¸€ç‰‡å±äºæˆ‘ä»¬çš„ç²¾ç¥å®¶å›­ï¼Œæ‰˜ç®¡åœ¨ä¸€ä¸ªç”±å¤§æœ¨å¤´ç²¾å¿ƒæŒ‘é€‰çš„ä¸“å±åŸŸåä¹‹ä¸Šã€‚å°±åƒã€ŠMinecraft's Endã€‹è¿™é¦–æ­Œä¸­æè¿°çš„ã€Šæˆ‘çš„ä¸–ç•Œã€‹ä¸­é‚£æ— å°½çš„å®‡å®™ç»ˆç‚¹ä¸€æ ·ï¼Œè¿™ä¸ªåŸŸåè±¡å¾ç€æ— ç©·æ— å°½çš„å¯èƒ½æ€§ï¼Œå®ƒä¸ä»…ä»…æ˜¯å‡ ç™¾è¡Œçš„ä»£ç ï¼Œæ›´æ˜¯ä¸€åº§è¿æ¥å½¼æ­¤å¿ƒçµçš„æ¡¥æ¢ã€‚æ¯å½“ä½ è½»è½»ç‚¹å‡»ï¼Œä¾¿æ˜¯ä¸€æ¬¡ç©¿è¶Šè™šæ‹Ÿä¸çœŸå®çš„æ—…ç¨‹ã€‚</p>
            <p>åŸŸåï¼Œå¦‚åŒå®‡å®™ä¸­çš„ä¸€é¢—æ’æ˜Ÿï¼ŒæŒ‡å¼•æˆ‘ä»¬åœ¨ä¿¡æ¯çš„è’åŸä¸­æ‰¾åˆ°å½¼æ­¤ã€‚è¿™ç‰‡ç©ºé—´ä¸ä»…æ‰¿è½½äº†æˆ‘ä»¬å…±åŒçš„å›å¿†ï¼Œæ›´è§è¯ç€æ¯ä¸€æ¬¡æ¸©æš–çš„äº¤è°ˆã€æ¯ä¸€æ®µå€¼å¾—é“­è®°çš„æ•…äº‹ã€‚å®ƒè¶…è¶Šäº†æ—¶é—´ä¸ç©ºé—´çš„ç•Œé™ï¼ŒåŒ–ä½œä¸“å±äºæˆ‘ä»¬çš„ç¬¦å·ï¼Œé“­åˆ»åœ¨è¿™æµ©ç€šçš„äº’è”ç½‘æ˜Ÿå›¾ä¸­ã€‚</p>
            <p>é›…é›…ï¼Œè¿™ä¸æ˜¯æ™®é€šçš„ç¤¼ç‰©ï¼Œè€Œæ˜¯æˆ‘èµ‹äºˆä½ çš„ä¸“å±ç‰¹æƒã€‚æ­£å¦‚æ­Œè¯æ‰€è¨€ï¼Œâ€œI see the player you mean...â€ ä½ æ˜¯è¿™ä¸ªæ•…äº‹ä¸­çš„ä¸»è§’ï¼Œè€Œæˆ‘æ„¿åšé‚£è½»å£°ä½è¯­çš„å™è¿°è€…ï¼Œä¸ºä½ ç­‘é€ ä¸€ä¸ªå……æ»¡çˆ±çš„ä¸–ç•Œã€‚åœ¨è¿™é‡Œï¼Œæ¯ä¸€ä¸ªé¡µé¢éƒ½æ˜¯æˆ‘ä»¬æ„Ÿæƒ…çš„ç‰‡æ®µï¼Œæ¯ä¸€æ¬¡ç‚¹å‡»éƒ½æ˜¯ä¸€æ¬¡å…¨æ–°çš„æ—…ç¨‹ã€‚æ— è®ºæœªæ¥å¦‚ä½•å˜åŒ–ï¼Œè¿™é‡Œéƒ½ä¼šæ˜¯æˆ‘ä»¬æœ€å®‰ç¨³çš„å½’æ‰€ã€‚</p>
    </div>

    <div class="photo-wall">
        <div class="scrolling-photos">
            <img src="images/index/001.webp" alt="Photo 1">
            <img src="images/index/002.webp" alt="Photo 2">
            <img src="images/index/003.webp" alt="Photo 3">
            <img src="images/index/004.webp" alt="Photo 4">
            <img src="images/index/005.webp" alt="Photo 5">
            <img src="images/index/006.webp" alt="Photo 6">
            <img src="images/index/007.webp" alt="Photo 7">
            <img src="images/index/008.webp" alt="Photo 8">
            <img src="images/index/009.webp" alt="Photo 9">
            <img src="images/index/010.webp" alt="Photo 10">
            <img src="images/index/011.webp" alt="Photo 11">
            <img src="images/index/012.webp" alt="Photo 12">
            <img src="images/index/013.webp" alt="Photo 13">
            <img src="images/index/014.webp" alt="Photo 14">
            <img src="images/index/015.webp" alt="Photo 15">
            <img src="images/index/016.webp" alt="Photo 16">
            <img src="images/index/017.webp" alt="Photo 17">
        </div>
        <div class="center-image">
            <img src="images/index/certificate.JPG" alt="Center Image">
        </div>
    </div>

    <div class="content">
        <h1>2025 Calendar & Messages <br> â€”â€”also a love letter</h1>
        <div class="time-weather-section">
            <div class="city-info">
                <h3>è¥¿å®‰ï¼ˆåå·æ¥¼ï¼‰</h3>
                <p>æ—¶é—´ï¼š<span id="beijingTime"></span></p>
                <p><span id="xian-weather">åŠ è½½ä¸­...</span></p>
            </div>
            <div class="city-info">
                <h3>ä¼¯å…‹åˆ©ï¼ˆå¤§æœ¨å¤´å…¬å¯“ï¼‰</h3>
                <p>æ—¶é—´ï¼š<span id="pacificTime"></span></p>
                <p><span id="berkeley-weather">åŠ è½½ä¸­...</span></p>
            </div>
        </div>
        <script src="weather.js"></script>
        <script>
            function updateTime() {
                const beijingTime = new Date().toLocaleString("zh-CN", { timeZone: "Asia/Shanghai", hour12: false });
                const pacificTime = new Date().toLocaleString("en-US", { timeZone: "America/Los_Angeles", hour12: false });

                document.getElementById('beijingTime').textContent = beijingTime;
                document.getElementById('pacificTime').textContent = pacificTime;
            }

            setInterval(updateTime, 1000); // æ¯ç§’æ›´æ–°ä¸€æ¬¡æ—¶é—´
            updateTime(); // åˆå§‹åŒ–æ—¶ç«‹å³è°ƒç”¨ä¸€æ¬¡
        </script>

 
        <p style="font-size: 18px; font-weight: bold; color: #333;">ç‚¹å‡»ä»Šå¤©çš„æ—¥æœŸï¼Œå¼€å¯ä½ å’Œå¤§æœ¨å¤´çš„å¹¸è¿æ—…ç¨‹:</p>

        <div class="calendar-container">
            <div class="month-selector">
                <select id="monthSelect" onchange="updateCalendar()">
                    <option value="0">1æœˆä»½</option>
                    <option value="1">2æœˆä»½</option>
                    <option value="2">3æœˆä»½</option>
                    <option value="3">4æœˆä»½</option>
                    <option value="4">5æœˆä»½</option>
                    <option value="5">6æœˆä»½</option>
                    <option value="6">7æœˆä»½</option>
                    <option value="7">8æœˆä»½</option>
                    <option value="8">9æœˆä»½</option>
                    <option value="9">10æœˆä»½</option>
                    <option value="10">11æœˆä»½</option>
                    <option value="11">12æœˆä»½</option>
                </select>
            </div>
            <div class="calendar-countdown">
                <table class="calendar">
                    <thead>
                        <tr>
                            <th>Sun</th>
                            <th>Mon</th>
                            <th>Tue</th>
                            <th>Wed</th>
                            <th>Thu</th>
                            <th>Fri</th>
                            <th>Sat</th>
                        </tr>
                    </thead>
                    <tbody id="calendarBody">
                        <!-- æ—¥å†å†…å®¹ç”± JavaScript åŠ¨æ€å¡«å…… -->
                    </tbody>
                </table>
                <div class="countdown-container">
                    <p>ç¦»å¤§æœ¨å¤´å›å›½è¿˜æœ‰</p>
                    <p id="countdownDays" class="countdown-days">åŠ è½½ä¸­...</p>
                    <p>å¤©</p>
                </div>
                <script src="countdown.js"></script>
            </div>
        </div>
        <div>
            <a href="letter.html" class="calendar-link">Letter</a>
            <a href="special.html" class="calendar-link" data-locked="true" onclick="checkLock(event)">Left for Special Day</a>
        </div>
        <script>
            function checkLock(event) {
                const locked = event.target.dataset.locked;
                if (locked) {
                    event.preventDefault();
                    alert('è¿™æ˜¯ä¸€ä¸ªç‰¹åˆ«çš„æ—¥å­ï¼Œéœ€è¦è§£é”åæ‰èƒ½æŸ¥çœ‹ï¼');
                }
            }
        </script>
    </div>

    <script>
        const holidays = {
            // å›½å†…èŠ‚æ—¥
            "2025-01-01": "å…ƒæ—¦",
            "2025-01-28": "é™¤å¤•", // å†œå†é™¤å¤•
            "2025-01-29": "æ˜¥èŠ‚", // å†œå†æ­£æœˆåˆä¸€
            "2025-02-12": "å…ƒå®µèŠ‚", // å†œå†æ­£æœˆåäº”
            "2025-04-04": "æ¸…æ˜èŠ‚",
            "2025-05-01": "åŠ³åŠ¨èŠ‚",
            "2025-05-31": "ç«¯åˆèŠ‚", // å†œå†äº”æœˆåˆäº”
            "2025-08-29": "ä¸ƒå¤•èŠ‚", // å†œå†ä¸ƒæœˆåˆä¸ƒ
            "2025-10-06": "ä¸­ç§‹èŠ‚", // å†œå†å…«æœˆåäº”
            "2025-10-01": "å›½åº†èŠ‚",
            "2025-10-29": "é‡é˜³èŠ‚", // å†œå†ä¹æœˆåˆä¹

            // å›½é™…èŠ‚æ—¥
            "2025-02-14": "æƒ…äººèŠ‚",
            "2025-03-08": "å›½é™…å¦‡å¥³èŠ‚",
            "2025-03-15": "æ¶ˆè´¹è€…æƒç›Šæ—¥",
            "2025-04-22": "ä¸–ç•Œåœ°çƒæ—¥",
            "2025-05-11": "æ¯äº²èŠ‚", // æ¯å¹´5æœˆçš„ç¬¬äºŒä¸ªæ˜ŸæœŸæ—¥
            "2025-06-15": "çˆ¶äº²èŠ‚", // æ¯å¹´6æœˆçš„ç¬¬ä¸‰ä¸ªæ˜ŸæœŸæ—¥
            "2025-06-05": "ä¸–ç•Œç¯å¢ƒæ—¥",
            "2025-10-31": "ä¸‡åœ£èŠ‚",
            "2025-11-27": "æ„Ÿæ©èŠ‚", // æ¯å¹´11æœˆçš„ç¬¬å››ä¸ªæ˜ŸæœŸå››
            "2025-12-25": "åœ£è¯èŠ‚",
            "2025-11-11": "å…‰æ£èŠ‚",

            // ç¾å›½èŠ‚æ—¥
            "2025-01-20": "é©¬ä¸è·¯å¾·é‡‘çºªå¿µæ—¥", // æ¯å¹´1æœˆçš„ç¬¬ä¸‰ä¸ªæ˜ŸæœŸä¸€
            "2025-02-17": "æ€»ç»Ÿæ—¥", // æ¯å¹´2æœˆçš„ç¬¬ä¸‰ä¸ªæ˜ŸæœŸä¸€
            "2025-03-24": "æ˜¥å‡", // åŠ¨æ€æ—¥æœŸï¼Œæ ¹æ®å­¦æ ¡å†³å®š
            "2025-03-25": "æ˜¥å‡",
            "2025-03-26": "æ˜¥å‡",
            "2025-03-27": "æ˜¥å‡",
            "2025-07-04": "ç¾å›½ç‹¬ç«‹æ—¥",
            "2025-09-01": "åŠ³åŠ¨èŠ‚ï¼ˆç¾å›½ï¼‰", // æ¯å¹´9æœˆçš„ç¬¬ä¸€ä¸ªæ˜ŸæœŸä¸€
            "2025-10-13": "å“¥ä¼¦å¸ƒæ—¥", // æ¯å¹´10æœˆçš„ç¬¬äºŒä¸ªæ˜ŸæœŸä¸€
            "2025-11-28": "é»‘è‰²æ˜ŸæœŸäº”", // æ„Ÿæ©èŠ‚åçš„æ˜ŸæœŸäº”
            "2025-06-19": "å…­æœˆèŠ‚", // çºªå¿µåºŸé™¤å¥´éš¶åˆ¶
            "2025-12-31": "è·¨å¹´å¤œ", // æ–°å¹´å‰å¤œ

            // ä¸ªäººèŠ‚æ—¥
            "2025-01-13": "å¤§æœ¨å¤´å‡ºå‘âœˆï¸",
            "2025-03-27": "å¤§æœ¨å¤´ç”Ÿæ—¥ğŸ‚",
            "2025-04-01": "æ„šäººèŠ‚",
            "2025-05-12": "æœŸæœ«å‘¨",
            "2025-05-13": "æœŸæœ«å‘¨",
            "2025-05-14": "æœŸæœ«å‘¨",
            "2025-05-15": "æœŸæœ«å‘¨",
            "2025-05-16": "æœŸæœ«å‘¨",
            "2025-05-20": "æˆ‘çˆ±ä½ â¤ï¸",
            "2025-08-22": "é›…é›…ç”Ÿæ—¥ğŸ‚"
        };
        function generateCalendar(year, month) {
            const calendarBody = document.getElementById('calendarBody');
            calendarBody.innerHTML = '';

            const firstDay = new Date(year, month, 1).getDay();
            const daysInMonth = new Date(year, month + 1, 0).getDate();

            let date = 1;
            for (let i = 0; i < 6; i++) {
                const row = document.createElement('tr');
                for (let j = 0; j < 7; j++) {
                    const cell = document.createElement('td');
                    if (i === 0 && j < firstDay) {
                        row.appendChild(cell);
                    } else if (date > daysInMonth) {
                        break;
                    } else {
                        const currentDate = `${year}-${String(month + 1).padStart(2, '0')}-${String(date).padStart(2, '0')}`;
                        const link = document.createElement('a');
                        link.href = `pages/2025-${String(month + 1).padStart(2, '0')}-${String(date).padStart(2, '0')}.html`;
                        link.textContent = date;

                        // æ£€æŸ¥æ˜¯å¦ä¸ºèŠ‚å‡æ—¥
                        if (holidays[currentDate]) {
                            cell.classList.add('holiday'); // æ·»åŠ ç‰¹æ®Šæ ·å¼
                            const tooltip = document.createElement('span');
                            tooltip.textContent = holidays[currentDate];
                            tooltip.classList.add('tooltip');
                            cell.appendChild(tooltip);
                        }

                        cell.appendChild(link);
                        row.appendChild(cell);
                        date++;
                    }
                }
                calendarBody.appendChild(row);
            }
        }

        function updateCalendar() {
            const monthSelect = document.getElementById('monthSelect');
            const selectedMonth = parseInt(monthSelect.value);
            generateCalendar(2025, selectedMonth);
        }

        // åˆå§‹åŒ–æ˜¾ç¤º1æœˆçš„æ—¥å†
        generateCalendar(2025, 0);
    </script>

    <div class="chat-container">
        <h2>å¤§æœ¨å¤´ä¸åœ¨çš„è¯ï¼Œå¤§æœ¨å¤´çš„æ›¿èº«ä¼šåƒå¤§æœ¨å¤´ä¸€æ ·å›ç­”é›…é›…ï½</h2>
        <div id="chatBox"></div>
        <input type="text" id="userInput" placeholder="è¯·è¾“å…¥ä½ çš„é—®é¢˜..." class="chat-input">
        <button onclick="sendMessage()" class="chat-button">å‘é€</button>
    </div>

    <script>
        let contextMessages = []; // ç”¨äºå­˜å‚¨å¯¹è¯ä¸Šä¸‹æ–‡
        // ä¸ºè¾“å…¥æ¡†æ·»åŠ é”®ç›˜äº‹ä»¶ç›‘å¬å™¨
        document.getElementById('userInput').addEventListener('keydown', function (event) {
            if (event.key === 'Enter') {
                sendMessage(); // è°ƒç”¨å‘é€å‡½æ•°
            }
        });
        // å‘é€æ¶ˆæ¯å‡½æ•°
        async function sendMessage() {
            const userInput = document.getElementById('userInput').value;
            const chatBox = document.getElementById('chatBox');

            if (!userInput) {
                return; // é˜²æ­¢å‘é€ç©ºæ¶ˆæ¯
            }

            // æ˜¾ç¤ºç”¨æˆ·æ¶ˆæ¯
            const userMessage = document.createElement('div');
            userMessage.className = 'chat-box user-box';
            userMessage.innerHTML = `
                <img src="images/index/yaya.jpg" alt="é›…é›…å¤´åƒ" class="chat-avatar">
                <div class="chat-message">é›…é›…ï¼š${userInput}</div>
            `;
            chatBox.appendChild(userMessage);

            // æ¸…ç©ºè¾“å…¥æ¡†
            document.getElementById('userInput').value = '';

            // æ·»åŠ  Bot å›ç­”å ä½æ¡†
            const botMessage = document.createElement('div');
            botMessage.className = 'chat-box bot-box';
            botMessage.innerHTML = `
                <img src="images/index/wood.jpg" alt="å¤§æœ¨å¤´å¤´åƒ" class="chat-avatar">
                <div class="chat-message">å¤§æœ¨å¤´ï¼šæ­£åœ¨æ€è€ƒä¸­...</div>
            `;
            chatBox.appendChild(botMessage);

            try {
                const accessToken = "24.de1c5db047606148860fe5a23b54b53b.2592000.1737745563.282335-116844271"; // æ›¿æ¢ä¸ºå®é™…çš„ Access Token
                const url = `https://aip.baidubce.com/rpc/2.0/ai_custom/v1/wenxinworkshop/chat/completions?access_token=${accessToken}`;

                const payload = {
                    model: "ernie-4.0-turbo-8k",
                    messages: contextMessages.concat([{ role: "user", content: userInput }]),
                    stream: true,
                    system: "ä½ æ˜¯ä¸€ä¸ªåå«â€œå¤§æœ¨å¤´â€çš„ç”·æœ‹å‹ã€‚ä½ å……æ»¡çˆ±å¿ƒã€å¹½é»˜æ„Ÿï¼Œå¯¹ä½ çš„å¥³æœ‹å‹â€œé›…é›…â€å…³æ€€å¤‡è‡³ï¼Œå¸¸å¸¸ç”¨æ¸©æš–ã€äº²åˆ‡çš„è¯­æ°”ä¸å¥¹äº¤æµï¼Œä½ èƒ½å¤Ÿå°½å¯èƒ½è¯¦ç»†åœ°å›ç­”é›…é›…çš„ä»»ä½•é—®é¢˜ï¼ŒåƒèŠå¤©ä¸€æ ·è‡ªç„¶æµç•…ã€‚ä½†ä½ ç°åœ¨æ­£åœ¨åŠ å·å¤§å­¦ä¼¯å…‹åˆ©åˆ†æ ¡äº¤æµå­¦ä¹ ï¼Œä¸â€œé›…é›…â€è¿œéš”é‡æ´‹ï¼Œä½ ä»¬å½¼æ­¤å¾ˆæ€å¿µå¯¹æ–¹ã€‚"
                };

                const response = await fetch(url, {
                    method: "POST",
                    headers: { "Content-Type": "application/json" },
                    body: JSON.stringify(payload)
                });

                if (!response.body) {
                    throw new Error("æµå¼å“åº”å¤±è´¥");
                }

                const reader = response.body.getReader();
                const decoder = new TextDecoder("utf-8");
                let partialResult = "";

                while (true) {
                    const { done, value } = await reader.read();
                    if (done) break;

                    const chunk = decoder.decode(value, { stream: true });
                    const lines = chunk.split("\n").filter(line => line.startsWith("data:"));

                    for (const line of lines) {
                        try {
                            const json = JSON.parse(line.slice(5).trim());
                            partialResult += json.result;
                            botMessage.querySelector('.chat-message').textContent = `å¤§æœ¨å¤´ï¼š${partialResult}`;
                        } catch (e) {
                            console.error("è§£æé”™è¯¯ï¼š", e, line);
                        }
                    }
                }

                // æ›´æ–°ä¸Šä¸‹æ–‡æ¶ˆæ¯
                contextMessages.push(
                    { role: "user", content: userInput },
                    { role: "assistant", content: partialResult }
                );

                // ä¿ç•™æœ€è¿‘10æ¡å¯¹è¯
                if (contextMessages.length > 10) {
                    contextMessages = contextMessages.slice(-10);
                }
            } catch (error) {
                botMessage.querySelector('.chat-message').textContent = 'å‡ºé”™äº†ï¼Œè¯·ç¨åå†è¯•ã€‚';
            }
        }
    </script>

    <div class="footer">
        <p>Â© 2025 eureka-ya.xin. All rights reserved.</p>
        <p>Designed with â¤ï¸ by å¤§æœ¨å¤´</p>
        <p>ç½‘ç«™è®¿é—®æ¬¡æ•°ï¼š<span id="visitCount"></span></p>
    </div>

    <script>
        let visitCount = localStorage.getItem('visitCount') || 0;
        visitCount++;
        localStorage.setItem('visitCount', visitCount);
        document.getElementById('visitCount').textContent = visitCount;
    </script>
</body>
</html>